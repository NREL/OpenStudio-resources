<measure>
  <schema_version>3.0</schema_version>
  <name>create_bar_from_building_type_ratios</name>
  <uid>6e3a14f8-c3c7-4e03-bc51-bef8a52e1a05</uid>
  <version_id>c70ff335-2217-4d1b-bd69-320187992ed7</version_id>
  <version_modified>20180702T223605Z</version_modified>
  <xml_checksum>2AF3A68E</xml_checksum>
  <class_name>CreateBarFromBuildingTypeRatios</class_name>
  <display_name>Create Bar From Building Type Ratios</display_name>
  <description>Create a core and perimeter bar sliced by space type.</description>
  <modeler_description>Space Type collections are made from one or more building types passed in with user arguments.</modeler_description>
  <arguments>
    <argument>
      <name>bldg_type_a</name>
      <display_name>Primary Building Type</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>SmallOffice</default_value>
      <choices>
        <choice>
          <value>SecondarySchool</value>
          <display_name>SecondarySchool</display_name>
        </choice>
        <choice>
          <value>PrimarySchool</value>
          <display_name>PrimarySchool</display_name>
        </choice>
        <choice>
          <value>SmallOffice</value>
          <display_name>SmallOffice</display_name>
        </choice>
        <choice>
          <value>MediumOffice</value>
          <display_name>MediumOffice</display_name>
        </choice>
        <choice>
          <value>LargeOffice</value>
          <display_name>LargeOffice</display_name>
        </choice>
        <choice>
          <value>SmallHotel</value>
          <display_name>SmallHotel</display_name>
        </choice>
        <choice>
          <value>LargeHotel</value>
          <display_name>LargeHotel</display_name>
        </choice>
        <choice>
          <value>Warehouse</value>
          <display_name>Warehouse</display_name>
        </choice>
        <choice>
          <value>RetailStandalone</value>
          <display_name>RetailStandalone</display_name>
        </choice>
        <choice>
          <value>RetailStripmall</value>
          <display_name>RetailStripmall</display_name>
        </choice>
        <choice>
          <value>QuickServiceRestaurant</value>
          <display_name>QuickServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>FullServiceRestaurant</value>
          <display_name>FullServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>MidriseApartment</value>
          <display_name>MidriseApartment</display_name>
        </choice>
        <choice>
          <value>HighriseApartment</value>
          <display_name>HighriseApartment</display_name>
        </choice>
        <choice>
          <value>Hospital</value>
          <display_name>Hospital</display_name>
        </choice>
        <choice>
          <value>Outpatient</value>
          <display_name>Outpatient</display_name>
        </choice>
        <choice>
          <value>SuperMarket</value>
          <display_name>SuperMarket</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>bldg_type_a_num_units</name>
      <display_name>Primary Building Type Number of Units</display_name>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>1</default_value>
    </argument>
    <argument>
      <name>bldg_type_b</name>
      <display_name>Building Type B</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>SmallOffice</default_value>
      <choices>
        <choice>
          <value>SecondarySchool</value>
          <display_name>SecondarySchool</display_name>
        </choice>
        <choice>
          <value>PrimarySchool</value>
          <display_name>PrimarySchool</display_name>
        </choice>
        <choice>
          <value>SmallOffice</value>
          <display_name>SmallOffice</display_name>
        </choice>
        <choice>
          <value>MediumOffice</value>
          <display_name>MediumOffice</display_name>
        </choice>
        <choice>
          <value>LargeOffice</value>
          <display_name>LargeOffice</display_name>
        </choice>
        <choice>
          <value>SmallHotel</value>
          <display_name>SmallHotel</display_name>
        </choice>
        <choice>
          <value>LargeHotel</value>
          <display_name>LargeHotel</display_name>
        </choice>
        <choice>
          <value>Warehouse</value>
          <display_name>Warehouse</display_name>
        </choice>
        <choice>
          <value>RetailStandalone</value>
          <display_name>RetailStandalone</display_name>
        </choice>
        <choice>
          <value>RetailStripmall</value>
          <display_name>RetailStripmall</display_name>
        </choice>
        <choice>
          <value>QuickServiceRestaurant</value>
          <display_name>QuickServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>FullServiceRestaurant</value>
          <display_name>FullServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>MidriseApartment</value>
          <display_name>MidriseApartment</display_name>
        </choice>
        <choice>
          <value>HighriseApartment</value>
          <display_name>HighriseApartment</display_name>
        </choice>
        <choice>
          <value>Hospital</value>
          <display_name>Hospital</display_name>
        </choice>
        <choice>
          <value>Outpatient</value>
          <display_name>Outpatient</display_name>
        </choice>
        <choice>
          <value>SuperMarket</value>
          <display_name>SuperMarket</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>bldg_type_b_fract_bldg_area</name>
      <display_name>Building Type B Fraction of Building Floor Area</display_name>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>bldg_type_b_num_units</name>
      <display_name>Building Type B Number of Units</display_name>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>1</default_value>
    </argument>
    <argument>
      <name>bldg_type_c</name>
      <display_name>Building Type C</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>SmallOffice</default_value>
      <choices>
        <choice>
          <value>SecondarySchool</value>
          <display_name>SecondarySchool</display_name>
        </choice>
        <choice>
          <value>PrimarySchool</value>
          <display_name>PrimarySchool</display_name>
        </choice>
        <choice>
          <value>SmallOffice</value>
          <display_name>SmallOffice</display_name>
        </choice>
        <choice>
          <value>MediumOffice</value>
          <display_name>MediumOffice</display_name>
        </choice>
        <choice>
          <value>LargeOffice</value>
          <display_name>LargeOffice</display_name>
        </choice>
        <choice>
          <value>SmallHotel</value>
          <display_name>SmallHotel</display_name>
        </choice>
        <choice>
          <value>LargeHotel</value>
          <display_name>LargeHotel</display_name>
        </choice>
        <choice>
          <value>Warehouse</value>
          <display_name>Warehouse</display_name>
        </choice>
        <choice>
          <value>RetailStandalone</value>
          <display_name>RetailStandalone</display_name>
        </choice>
        <choice>
          <value>RetailStripmall</value>
          <display_name>RetailStripmall</display_name>
        </choice>
        <choice>
          <value>QuickServiceRestaurant</value>
          <display_name>QuickServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>FullServiceRestaurant</value>
          <display_name>FullServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>MidriseApartment</value>
          <display_name>MidriseApartment</display_name>
        </choice>
        <choice>
          <value>HighriseApartment</value>
          <display_name>HighriseApartment</display_name>
        </choice>
        <choice>
          <value>Hospital</value>
          <display_name>Hospital</display_name>
        </choice>
        <choice>
          <value>Outpatient</value>
          <display_name>Outpatient</display_name>
        </choice>
        <choice>
          <value>SuperMarket</value>
          <display_name>SuperMarket</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>bldg_type_c_fract_bldg_area</name>
      <display_name>Building Type C Fraction of Building Floor Area</display_name>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>bldg_type_c_num_units</name>
      <display_name>Building Type C Number of Units</display_name>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>1</default_value>
    </argument>
    <argument>
      <name>bldg_type_d</name>
      <display_name>Building Type D</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>SmallOffice</default_value>
      <choices>
        <choice>
          <value>SecondarySchool</value>
          <display_name>SecondarySchool</display_name>
        </choice>
        <choice>
          <value>PrimarySchool</value>
          <display_name>PrimarySchool</display_name>
        </choice>
        <choice>
          <value>SmallOffice</value>
          <display_name>SmallOffice</display_name>
        </choice>
        <choice>
          <value>MediumOffice</value>
          <display_name>MediumOffice</display_name>
        </choice>
        <choice>
          <value>LargeOffice</value>
          <display_name>LargeOffice</display_name>
        </choice>
        <choice>
          <value>SmallHotel</value>
          <display_name>SmallHotel</display_name>
        </choice>
        <choice>
          <value>LargeHotel</value>
          <display_name>LargeHotel</display_name>
        </choice>
        <choice>
          <value>Warehouse</value>
          <display_name>Warehouse</display_name>
        </choice>
        <choice>
          <value>RetailStandalone</value>
          <display_name>RetailStandalone</display_name>
        </choice>
        <choice>
          <value>RetailStripmall</value>
          <display_name>RetailStripmall</display_name>
        </choice>
        <choice>
          <value>QuickServiceRestaurant</value>
          <display_name>QuickServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>FullServiceRestaurant</value>
          <display_name>FullServiceRestaurant</display_name>
        </choice>
        <choice>
          <value>MidriseApartment</value>
          <display_name>MidriseApartment</display_name>
        </choice>
        <choice>
          <value>HighriseApartment</value>
          <display_name>HighriseApartment</display_name>
        </choice>
        <choice>
          <value>Hospital</value>
          <display_name>Hospital</display_name>
        </choice>
        <choice>
          <value>Outpatient</value>
          <display_name>Outpatient</display_name>
        </choice>
        <choice>
          <value>SuperMarket</value>
          <display_name>SuperMarket</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>bldg_type_d_fract_bldg_area</name>
      <display_name>Building Type D Fraction of Building Floor Area</display_name>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>bldg_type_d_num_units</name>
      <display_name>Building Type D Number of Units</display_name>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>1</default_value>
    </argument>
    <argument>
      <name>single_floor_area</name>
      <display_name>Single Floor Area</display_name>
      <description>Non-zero value will fix the single floor area, overriding a user entry for Total Building Floor Area</description>
      <type>Double</type>
      <units>ft^2</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>total_bldg_floor_area</name>
      <display_name>Total Building Floor Area</display_name>
      <type>Double</type>
      <units>ft^2</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>10000</default_value>
    </argument>
    <argument>
      <name>floor_height</name>
      <display_name>Typical Floor to FLoor Height</display_name>
      <description>Selecting a typical floor height of 0 will trigger a smart building type default.</description>
      <type>Double</type>
      <units>ft</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>num_stories_above_grade</name>
      <display_name>Number of Stories Above Grade</display_name>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>1</default_value>
    </argument>
    <argument>
      <name>num_stories_below_grade</name>
      <display_name>Number of Stories Below Grade</display_name>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>building_rotation</name>
      <display_name>Building Rotation</display_name>
      <description>Set Building Rotation off of North (positive value is clockwise).</description>
      <type>Double</type>
      <units>Degrees</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>template</name>
      <display_name>Target Standard</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>90.1-2004</default_value>
      <choices>
        <choice>
          <value>DOE Ref Pre-1980</value>
          <display_name>DOE Ref Pre-1980</display_name>
        </choice>
        <choice>
          <value>DOE Ref 1980-2004</value>
          <display_name>DOE Ref 1980-2004</display_name>
        </choice>
        <choice>
          <value>90.1-2004</value>
          <display_name>90.1-2004</display_name>
        </choice>
        <choice>
          <value>90.1-2007</value>
          <display_name>90.1-2007</display_name>
        </choice>
        <choice>
          <value>90.1-2010</value>
          <display_name>90.1-2010</display_name>
        </choice>
        <choice>
          <value>90.1-2013</value>
          <display_name>90.1-2013</display_name>
        </choice>
        <choice>
          <value>NREL ZNE Ready 2017</value>
          <display_name>NREL ZNE Ready 2017</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>ns_to_ew_ratio</name>
      <display_name>Ratio of North/South Facade Length Relative to East/West Facade Length.</display_name>
      <description>Selecting an aspect ratio of 0 will trigger a smart building type default. Aspect ratios less than one are not recommended for sliced bar geometry, instead rotate building and use a greater than 1 aspect ratio</description>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>wwr</name>
      <display_name>Window to Wall Ratio.</display_name>
      <description>Selecting a window to wall ratio of 0 will trigger a smart building type default.</description>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>party_wall_fraction</name>
      <display_name>Fraction of Exterior Wall Area with Adjacent Structure</display_name>
      <description>This will impact how many above grade exterior walls are modeled with adiabatic boundary condition.</description>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>party_wall_stories_north</name>
      <display_name>Number of North facing stories with party wall</display_name>
      <description>This will impact how many above grade exterior north walls are modeled with adiabatic boundary condition. If this is less than the number of above grade stoes, upper flor will reamin exterior</description>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>party_wall_stories_south</name>
      <display_name>Number of South facing stories with party wall</display_name>
      <description>This will impact how many above grade exterior south walls are modeled with adiabatic boundary condition. If this is less than the number of above grade stoes, upper flor will reamin exterior</description>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>party_wall_stories_east</name>
      <display_name>Number of East facing stories with party wall</display_name>
      <description>This will impact how many above grade exterior east walls are modeled with adiabatic boundary condition. If this is less than the number of above grade stoes, upper flor will reamin exterior</description>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>party_wall_stories_west</name>
      <display_name>Number of West facing stories with party wall</display_name>
      <description>This will impact how many above grade exterior west walls are modeled with adiabatic boundary condition. If this is less than the number of above grade stoes, upper flor will reamin exterior</description>
      <type>Integer</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
    <argument>
      <name>bottom_story_ground_exposed_floor</name>
      <display_name>Is the Bottom Story Exposed to Ground?</display_name>
      <description>This should be true unless you are modeling a partial building which doesn't include the lowest story. The bottom story floor will have an adiabatic boundary condition when false.</description>
      <type>Boolean</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>true</default_value>
      <choices>
        <choice>
          <value>true</value>
          <display_name>true</display_name>
        </choice>
        <choice>
          <value>false</value>
          <display_name>false</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>top_story_exterior_exposed_roof</name>
      <display_name>Is the Top Story an Exterior Roof?</display_name>
      <description>This should be true unless you are modeling a partial building which doesn't include the highest story. The top story ceiling will have an adiabatic boundary condition when false.</description>
      <type>Boolean</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>true</default_value>
      <choices>
        <choice>
          <value>true</value>
          <display_name>true</display_name>
        </choice>
        <choice>
          <value>false</value>
          <display_name>false</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>story_multiplier</name>
      <display_name>Calculation Method for Story Multiplier</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>Basements Ground Mid Top</default_value>
      <choices>
        <choice>
          <value>None</value>
          <display_name>None</display_name>
        </choice>
        <choice>
          <value>Basements Ground Mid Top</value>
          <display_name>Basements Ground Mid Top</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>bar_division_method</name>
      <display_name>Division Method for Bar Space Types.</display_name>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>Multiple Space Types - Individual Stories Sliced</default_value>
      <choices>
        <choice>
          <value>Multiple Space Types - Simple Sliced</value>
          <display_name>Multiple Space Types - Simple Sliced</display_name>
        </choice>
        <choice>
          <value>Multiple Space Types - Individual Stories Sliced</value>
          <display_name>Multiple Space Types - Individual Stories Sliced</display_name>
        </choice>
        <choice>
          <value>Single Space Type - Core and Perimeter</value>
          <display_name>Single Space Type - Core and Perimeter</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>make_mid_story_surfaces_adiabatic</name>
      <display_name>Make Mid Story Floor Surfaces Adibatic</display_name>
      <description>If set to true, this will skip surface intersection and make mid story floors and celings adiabiatc, not just at multiplied gaps.</description>
      <type>Boolean</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>false</default_value>
      <choices>
        <choice>
          <value>true</value>
          <display_name>true</display_name>
        </choice>
        <choice>
          <value>false</value>
          <display_name>false</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>use_upstream_args</name>
      <display_name>Use Upstream Argument Values</display_name>
      <description>When true this will look for arguments or registerValues in upstream measures that match arguments from this measure, and will use the value from the upstream measure in place of what is entered for this measure.</description>
      <type>Boolean</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>true</default_value>
      <choices>
        <choice>
          <value>true</value>
          <display_name>true</display_name>
        </choice>
        <choice>
          <value>false</value>
          <display_name>false</display_name>
        </choice>
      </choices>
    </argument>
  </arguments>
  <outputs/>
  <provenances/>
  <tags>
    <tag>Envelope.Form</tag>
  </tags>
  <attributes>
    <attribute>
      <name>Measure Type</name>
      <value>ModelMeasure</value>
      <datatype>string</datatype>
    </attribute>
    <attribute>
      <name>Intended Software Tool</name>
      <value>Apply Measure Now</value>
      <datatype>string</datatype>
    </attribute>
    <attribute>
      <name>Intended Software Tool</name>
      <value>OpenStudio Application</value>
      <datatype>string</datatype>
    </attribute>
    <attribute>
      <name>Intended Software Tool</name>
      <value>Parametric Analysis Tool</value>
      <datatype>string</datatype>
    </attribute>
  </attributes>
  <files>
    <file>
      <filename>example_model.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>032BCDC9</checksum>
    </file>
    <file>
      <filename>os_lib_geometry.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>3D17299B</checksum>
    </file>
    <file>
      <filename>os_lib_helper_methods.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>9CFC43FB</checksum>
    </file>
    <file>
      <filename>os_lib_model_simplification.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>EAEEA8B6</checksum>
    </file>
    <file>
      <version>
        <software_program>OpenStudio</software_program>
        <identifier>2.0.0</identifier>
        <min_compatible>2.0.0</min_compatible>
      </version>
      <filename>measure.rb</filename>
      <filetype>rb</filetype>
      <usage_type>script</usage_type>
      <checksum>F2EED23D</checksum>
    </file>
    <file>
      <filename>os_lib_model_generation.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>9CC16F63</checksum>
    </file>
    <file>
      <filename>create_bar_from_building_type_ratios_test.rb</filename>
      <filetype>rb</filetype>
      <usage_type>test</usage_type>
      <checksum>A6A8530B</checksum>
    </file>
  </files>
</measure>
